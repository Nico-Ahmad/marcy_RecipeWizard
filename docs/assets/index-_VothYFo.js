(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&e(o)}).observe(document,{childList:!0,subtree:!0});function r(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function e(t){if(t.ep)return;t.ep=!0;const i=r(t);fetch(t.href,i)}})();const u=async(c,n)=>{c.preventDefault();const r=c.target,e=new FormData(r),t=Object.fromEntries(e),i=t.ingredientUserInput;console.log("here is your data:",t.ingredientUserInput),r.reset(),await n(i)},p=c=>{const n=document.querySelector("#user-searched");n.innerHTML="";const r=document.createElement("div");r.id="div-text";const e=document.createElement("div");e.id="div-imgPicAndName";const t=document.createElement("h3");t.textContent="Searching for Recipes with:";const i=document.createElement("img");i.src=`https://www.themealdb.com/images/ingredients/${c}.png`;const o=document.createElement("p");o.textContent=c.toString().toUpperCase(),r.append(t),e.append(i),e.append(o),n.append(r),n.append(e)},g=()=>{const c=document.querySelector("#user-searched");c.innerHTML=""},h=c=>{const n=document.querySelector("#meal-images-container");n.innerHTML="",c.forEach(r=>{const e=document.createElement("div");e.classList.add("each-image"),e.setAttribute("data-id",r.id);const t=document.createElement("img");t.setAttribute("src",r.image),t.setAttribute("alt",r.title),t.width=400,e.appendChild(t),n.appendChild(e)})},f=c=>{const n=document.querySelector("#extra-meal-info");n.innerHTML="",c.forEach(e=>{const t=document.createElement("div");if(t.id="popUpTextContent",e.title){const o=document.createElement("h2");o.textContent=e.title,t.appendChild(o)}if(e.origin){const o=document.createElement("p");o.textContent=`Origin: ${e.origin}`,t.appendChild(o)}if(e.ingredients&&e.ingredients.length>0){const o=document.createElement("h3");o.textContent="Ingredients",t.appendChild(o);const s=document.createElement("ul");e.ingredients.forEach(l=>{const a=document.createElement("li");a.textContent=`${l.ingredient}: ${l.measure}`,s.appendChild(a)}),t.appendChild(s)}if(e.instructions){const o=document.createElement("h3");o.textContent="Instructions",t.appendChild(o);const s=document.createElement("p");s.textContent=e.instructions,t.appendChild(s)}if(e.youtubeUrl){console.log(e.youtubeUrl);const o=e.youtubeUrl.split("="),l=`https://www.youtube.com/embed/${o[o.length-1]}`;console.log(l);const a=document.createElement("iframe");a.width="300",a.height="160",a.src=l,a.allow="fullscreen; accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",t.appendChild(a)}n.appendChild(t);const i=document.createElement("div");if(i.id="popUpImage",e.image){const o=document.createElement("img");o.src=e.image,o.alt=e.title||"Meal Image",i.appendChild(o)}n.appendChild(i)});const r=document.querySelector("#modal-wrapper");n.style.display="flex",r.style.display="block",n.addEventListener("click",e=>{e.currentTarget===n&&(n.style.display="none",r.style.display="none")})},y=()=>{const c=document.querySelector("#meal-images-container");c.innerHTML="";const n=document.createElement("div");n.id="searchErrorState";const r=document.createElement("p");r.textContent="No meals found. Please try a different search.",r.style.color="red";const e=document.createElement("img");e.src="https://raw.githubusercontent.com/RecipeWizardTeam/Recipe-Wizard/main/src/assets/images/wizards/walking.gif";const t=document.createElement("p");t.textContent='("Where are those recipes?")',t.id="wizardTalk",n.appendChild(r),n.appendChild(e),n.appendChild(t),c.append(n)},d=async c=>{try{const n=await fetch(c);if(!n.ok)throw new Error("Fetch failed with status:",n.status);const r=await n.json();if(console.log(r),r.meals&&r.meals.length>0)return r.meals.map(e=>{let t={image:e.strMealThumb,id:e.idMeal,title:e.strMeal,origin:e.strArea,instructions:e.strInstructions,youtubeUrl:e.strYoutube,ingredients:[]};for(let i=1;i<=20;i++){const o=e[`strIngredient${i}`],s=e[`strMeasure${i}`];o&&o.trim()!==""&&t.ingredients.push({ingredient:o,measure:s})}return t});y()}catch(n){return console.error("caught error:",n),null}},m=async c=>{const n=`https://www.themealdb.com/api/json/v1/1/filter.php?i=${c}`,r=await d(n);if(r){p(c),h(r);for(const e of r){const t=`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${e.id}`,i=await d(t);console.log(i)}}else console.log("no meals"),g()},w=async c=>{let n=c.target;console.log("Clicked element:",n),n.tagName==="IMG"&&(n=n.parentElement);const r=n.getAttribute("data-id");if(console.log("Meal ID:",r),r)try{const e=`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${r}`,t=await d(e);f(t)}catch(e){console.error("Error fetching meal info:",e)}},C=()=>{const c=["chicken breast","pepper","lemon","kale","orange","lamb","broccoli","strawberries","bread","potato","cheese","water","rice"],n=Math.floor(Math.random()*c.length);return c[n]},E=async()=>{m(C()),document.querySelector("#meal-form").addEventListener("submit",r=>u(r,m)),document.querySelector("#meal-images-container").addEventListener("click",w)};E();
